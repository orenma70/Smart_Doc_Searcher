# 1. One-Time Setup: Create the repository in the cloud
#aws ecr create-repository --repository-name smart-doc-api --region ap-southeast-2


# 2. Build and Upload: The "Daily Debug" sequence
# This builds your 'amazon_search_core.py' into a Docker image
docker build -t smart-doc-api .

# Login to AWS (replace the account ID if yours is different)
aws ecr get-login-password --region ap-southeast-2 | docker login --username AWS --password-stdin 038715112888.dkr.ecr.ap-southeast-2.amazonaws.com


# Tag and Push the image to the cloud registry
	5112888.dkr.ecr.ap-southeast-2.amazonaws.com/smart-doc-api:latest
docker push 038715112888.dkr.ecr.ap-southeast-2.amazonaws.com/smart-doc-api:latest

etsat status
aws apprunner describe-service --service-arn "arn:aws:apprunner:ap-southeast-2:038715112888:service/smart-doc-searcher-api-final/5abc7f51e3a04885bf68e15c4980927f" --region ap-southeast-2 --query "Service.Status" --output text
OPERATION_IN_PROGRESS


# 3. Launch: Create the App Runner Service
# This command gives you a public URL and enables automatic updates
aws apprunner start-deployment --service-arn "arn:aws:apprunner:ap-southeast-2:038715112888:service/smart-doc-searcher-api-final/5abc7f51e3a04885bf68e15c4980927f" --region ap-southeast-2		